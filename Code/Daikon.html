<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§é˜ªå·¥æ¥­å¤§å­¦ å…¥è©¦éå»å• & è§£èª¬ãƒ„ãƒ¼ãƒ«</title>
    <style>
        :root {
            --primary-color: #0056b3;
            --accent-color: #d63384; /* è§£èª¬PDFç”¨ */
            --ai-color: #6f42c1;    /* AIè§£èª¬ç”¨ */
            --bg-color: #f0f4f8;
            --card-bg: #ffffff;
            --text-color: #333;
            --border-radius: 12px;
        }

        body {
            font-family: "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 500px;
            transition: max-width 0.3s;
        }

        /* PCç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        @media (min-width: 900px) {
            .container {
                max-width: 1100px;
            }
            .layout-grid {
                display: grid;
                grid-template-columns: 400px 1fr;
                gap: 40px;
                align-items: start;
            }
            .right-panel {
                background-color: #f8f9fa;
                padding: 20px;
                border-radius: 12px;
                height: 100%;
                min-height: 500px;
            }
        }

        h2 {
            text-align: center;
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        /* ãŠçŸ¥ã‚‰ã›ã‚¨ãƒªã‚¢ */
        .news-box {
            background-color: #e3f2fd;
            border-left: 5px solid var(--primary-color);
            padding: 15px;
            margin-bottom: 25px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        .news-item {
            display: flex;
            align-items: baseline;
            margin-bottom: 4px;
        }
        .news-date {
            font-weight: bold;
            margin-right: 10px;
            color: #666;
            font-size: 0.85em;
        }

        .section { margin-bottom: 20px; }

        label.section-title {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 0.95em;
            color: #555;
        }

        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1.1em;
            text-align: center;
            box-sizing: border-box;
            background-color: #fff;
            cursor: pointer;
        }

        .grid-options, .grid-subjects {
            display: grid;
            gap: 8px;
        }
        .grid-options { grid-template-columns: repeat(2, 1fr); }
        .grid-subjects { grid-template-columns: repeat(3, 1fr); }

        input[type="radio"] { display: none; }

        .option-btn {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px 5px;
            background-color: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.2s ease;
            text-align: center;
            height: 100%;
            box-sizing: border-box;
        }

        input[type="radio"]:checked + .option-btn {
            background-color: #e3f2fd;
            border-color: var(--primary-color);
            color: var(--primary-color);
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,86,179,0.2);
        }

        /* ç§‘ç›®åˆ¥ã‚«ãƒ©ãƒ¼ */
        input[value="su1"]:checked + .option-btn { border-color: #007bff; color: #007bff; background-color: #e7f1ff; }
        input[value="ko"]:checked + .option-btn { border-color: #dc3545; color: #dc3545; background-color: #ffe8ea; }
        input[value="ei"]:checked + .option-btn { border-color: #fd7e14; color: #fd7e14; background-color: #fff0e6; }
        input[value="bu"]:checked + .option-btn { border-color: #28a745; color: #28a745; background-color: #e6f9ea; }
        input[value="ka"]:checked + .option-btn { border-color: #6f42c1; color: #6f42c1; background-color: #f3ebff; }
        input[value="it"]:checked + .option-btn { border-color: #17a2b8; color: #17a2b8; background-color: #e0faff; }

        .switch-container {
            display: flex;
            background-color: #e0e0e0;
            border-radius: 8px;
            padding: 4px;
            gap: 4px;
        }
        .switch-option {
            flex: 1;
            text-align: center;
            padding: 10px 2px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85em;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.3s;
        }
        
        input[name="type"]:checked + .switch-option {
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-weight: bold;
            color: var(--primary-color);
        }

        input[value="com"]:checked + .switch-option { color: var(--accent-color); background-color: #fff0f6; }
        input[value="ai"]:checked + .switch-option { color: var(--ai-color); background-color: #f3ebff; }

        button.main-btn {
            width: 100%;
            padding: 16px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,86,179,0.3);
            transition: all 0.3s;
            margin-top: 10px;
        }
        button.main-btn:hover { background-color: #004494; }
        button.main-btn:disabled { background-color: #cccccc; cursor: not-allowed; box-shadow: none; }

        body.mode-com button.main-btn { background-color: var(--accent-color); }
        body.mode-com button.main-btn:hover { background-color: #a82363; }
        
        body.mode-ai button.main-btn { background-color: var(--ai-color); }
        body.mode-ai button.main-btn:hover { background-color: #523091; }

        .preview-area {
            margin-top: 20px;
            padding: 15px;
            background-color: #333;
            color: #00ff00;
            font-family: monospace;
            border-radius: 8px;
            font-size: 0.85em;
            word-break: break-all;
            min-height: 40px;
            display: flex;
            align-items: center;
        }
        .error-msg { color: #ff6b6b; font-weight: bold; }

        /* Stock List Styles */
        .stock-toggle-btn {
            background: none;
            border: none;
            color: #666;
            text-decoration: underline;
            cursor: pointer;
            margin-top: 15px;
            font-size: 0.9em;
            width: 100%;
            text-align: center;
        }
        .stock-list-container {
            display: none;
            margin-top: 15px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
        }
        @media (min-width: 900px) {
            .stock-list-container {
                display: block !important;
                margin-top: 0;
                border: none;
                background: none;
                padding: 0;
            }
            .stock-toggle-btn { display: none; }
        }

        .stock-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }
        .stock-table th {
            text-align: left;
            border-bottom: 2px solid #ccc;
            padding: 8px 5px;
            color: #555;
            font-size: 0.85em;
        }
        .stock-table td {
            padding: 8px 5px;
            border-bottom: 1px solid #eee;
        }
        
        /* ç¨®é¡ãƒãƒƒã‚¸ */
        .badge {
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: bold;
            color: white;
            display: inline-block;
        }
        .badge.pdf { background-color: var(--accent-color); }
        .badge.ai { background-color: var(--ai-color); }

    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ“ å…¥è©¦éå»å• & è§£èª¬ãƒ„ãƒ¼ãƒ«</h2>

    <!-- ãŠçŸ¥ã‚‰ã›ã‚¨ãƒªã‚¢ -->
    <div class="news-box">
        <span style="font-weight:bold; color:#0056b3; display:block; margin-bottom:5px;">ğŸ”” æ›´æ–°æƒ…å ±</span>
        <div class="news-item">
            <span class="news-date">2025/12/12</span>
            <span> <span class="badge pdf">AIè§£èª¬</span> ã‚’è¿½åŠ ã—ã¾ã—ãŸ</span>
        </div>
    </div>

    <!-- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ†å‰² (PCç”¨) -->
    <div class="layout-grid">
        
        <!-- å·¦ãƒ‘ãƒãƒ«: é¸æŠã‚¨ãƒªã‚¢ -->
        <div class="left-panel">
            <!-- å¹´åº¦ -->
            <div class="section">
                <label class="section-title">å®Ÿæ–½å¹´åº¦</label>
                <select id="year" onchange="updateState()">
                    <option value="2025">2025å¹´åº¦</option>
                    <option value="2024" selected>2024å¹´åº¦</option>
                    <option value="2023">2023å¹´åº¦</option>
                    <option value="2022">2022å¹´åº¦</option>
                    <option value="2021">2021å¹´åº¦</option>
                    <option value="2020">2020å¹´åº¦</option>
                    <option value="2019">2019å¹´åº¦</option>
                    <option value="2018">2018å¹´åº¦</option>
                    <option value="2017">2017å¹´åº¦</option>
                </select>
            </div>

            <!-- æ—¥ç¨‹ -->
            <div class="section">
                <label class="section-title">æ—¥ç¨‹</label>
                <div class="grid-options">
                    <label>
                        <input type="radio" name="schedule" value="1" checked onchange="updateState()">
                        <div class="option-btn">Aæ—¥ç¨‹ 1æ—¥ç›®</div>
                    </label>
                    <label>
                        <input type="radio" name="schedule" value="2" onchange="updateState()">
                        <div class="option-btn">Aæ—¥ç¨‹ 2æ—¥ç›®</div>
                    </label>
                    <label>
                        <input type="radio" name="schedule" value="b" onchange="updateState()">
                        <div class="option-btn">Bæ—¥ç¨‹</div>
                    </label>
                    <label>
                        <input type="radio" name="schedule" value="d" onchange="updateState()">
                        <div class="option-btn">Dæ—¥ç¨‹</div>
                    </label>
                </div>
            </div>

            <!-- æ•™ç§‘ -->
            <div class="section">
                <label class="section-title">æ•™ç§‘</label>
                <div class="grid-subjects">
                    <label>
                        <input type="radio" name="subject" value="su1" checked onchange="updateState()">
                        <div class="option-btn">æ•°å­¦</div>
                    </label>
                    <label>
                        <input type="radio" name="subject" value="ko" onchange="updateState()">
                        <div class="option-btn">å›½èª</div>
                    </label>
                    <label>
                        <input type="radio" name="subject" value="ei" onchange="updateState()">
                        <div class="option-btn">è‹±èª</div>
                    </label>
                    <label>
                        <input type="radio" name="subject" value="bu" onchange="updateState()">
                        <div class="option-btn">ç‰©ç†</div>
                    </label>
                    <label>
                        <input type="radio" name="subject" value="ka" onchange="updateState()">
                        <div class="option-btn">åŒ–å­¦</div>
                    </label>
                    <label>
                        <input type="radio" name="subject" value="it" onchange="updateState()">
                        <div class="option-btn">æƒ…å ±</div>
                    </label>
                </div>
            </div>

            <!-- è¡¨ç¤ºã‚¿ã‚¤ãƒ— -->
            <div class="section">
                <label class="section-title">è¡¨ç¤ºã‚¿ã‚¤ãƒ—</label>
                <div class="switch-container">
                    <label style="flex:1">
                        <input type="radio" name="type" value="" checked onchange="updateState()">
                        <div class="switch-option">å•é¡Œ</div>
                    </label>
                    <label style="flex:1">
                        <input type="radio" name="type" value="_ans" onchange="updateState()">
                        <div class="switch-option">è§£ç­”</div>
                    </label>
                    <label style="flex:1">
                        <input type="radio" name="type" value="com" onchange="updateState()">
                        <div class="switch-option">è§£èª¬ âœ¨</div>
                    </label>
                    <label style="flex:1">
                        <input type="radio" name="type" value="ai" onchange="updateState()">
                        <div class="switch-option">AIè§£èª¬ğŸ¤–</div>
                    </label>
                </div>
            </div>

            <button id="mainBtn" class="main-btn" onclick="executeAction()">PDFã‚’é–‹ã ğŸš€</button>
            
            <button class="stock-toggle-btn" onclick="toggleStockList()">ğŸ“¦ å…¥è·ãƒªã‚¹ãƒˆã‚’è¦‹ã‚‹</button>
        </div>

        <!-- å³ãƒ‘ãƒãƒ« -->
        <div class="right-panel">
            
            <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
            <div class="preview-area" id="previewArea">
                <span id="filePreview">loading...</span>
            </div>

            <!-- è§£èª¬å…¥è·ãƒªã‚¹ãƒˆ -->
            <div id="stockList" class="stock-list-container">
                <h4 style="margin-top:0; color:#555; border-bottom:1px solid #ccc; padding-bottom:5px;">
                    ğŸ“¦ è§£èª¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸€è¦§
                </h4>
                <p style="font-size:0.8em; color:#666; margin-bottom:10px;">
                    â€»å•é¡Œãƒ»è§£ç­”ã¯å…¬å¼ã‚µã‚¤ãƒˆã«å…¨å¹´åº¦åˆ†ã‚ã‚Šã¾ã™ã€‚<br>
                    â€»ä¸‹è¨˜ã¯ç™»éŒ²æ¸ˆã¿ã®ã€Œè§£èª¬ã€ãƒªã‚¹ãƒˆã§ã™ã€‚
                </p>
                <table class="stock-table">
                    <thead>
                        <tr>
                            <th>å¹´åº¦</th>
                            <th>æ—¥ç¨‹</th>
                            <th>æ•™ç§‘</th>
                            <th>ç¨®é¡</th>
                        </tr>
                    </thead>
                    <tbody id="stockTableBody">
                        <!-- JSã§ç”Ÿæˆ -->
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>

<script>
    // =================================================================
    // â–¼â–¼â–¼ ãƒªã‚¹ãƒˆç·¨é›†ã‚¨ãƒªã‚¢ â–¼â–¼â–¼
    // ã“ã“ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã€ãƒªãƒ³ã‚¯æ©Ÿèƒ½ã¨å…¥è·ãƒªã‚¹ãƒˆã«åæ˜ ã•ã‚Œã¾ã™ã€‚
    // IDã®æ›¸ãæ–¹: "å¹´åº¦_æ—¥ç¨‹_æ•™ç§‘" (ä¾‹: 2024_1_su1)
    // æ—¥ç¨‹: 1(A1), 2(A2), b(Bæ—¥ç¨‹), d(Dæ—¥ç¨‹)
    // æ•™ç§‘: su1(æ•°), ko(å›½), ei(è‹±), bu(ç‰©), ka(åŒ–), it(æƒ…)
    // =================================================================

    // ã€1ã€‘é€šå¸¸ã®è§£èª¬PDF (PDFãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ç›´ãƒªãƒ³ã‚¯ãªã©)
    const commentaryDb = {
        "2024_1_su1": "https://answeri.wordpress.com/wp-content/uploads/2025/11/2024e5a4a7e998aae5b7a5e6a5ade5a4a7e5ada6-e695b0e5ada6-e8a7a3e7ad94-e697bae69687e7a4be-.pdf",
        "2024_1_bu":  "https://answeri.wordpress.com/wp-content/uploads/2025/11/2024e5a4a7e998aae5b7a5e6a5ade5a4a7e5ada6-e789a9e79086-e8a7a3e7ad94-e697bae69687e7a4be-.pdf",
        "2025_1_su1": "https://answeri.wordpress.com/wp-content/uploads/2025/11/2025e5a4a7e998aae5b7a5e6a5ade5a4a7e5ada6-e695b0e5ada6-e8a7a3e7ad94-e697bae69687e7a4be.pdf",
        "2025_1_bu":  "https://answeri.wordpress.com/wp-content/uploads/2025/11/2025e5a4a7e998aae5b7a5e6a5ade5a4a7e5ada6-e789a9e79086-e8a7a3e7ad94-e697bae69687e7a4be-.pdf"
    };

    // ã€2ã€‘AIè§£èª¬ãƒªãƒ³ã‚¯ (AIãŒè§£èª¬ã—ã¦ã„ã‚‹Webãƒšãƒ¼ã‚¸ã‚„Notionã¸ã®ãƒªãƒ³ã‚¯)
    const aiExplanationDb = {
        "2022_1_su1":"https://answeri.wordpress.com/wp-content/uploads/2025/11/2022daiko_day1_su1_ai_ans.pdf"
    };

    // â–²â–²â–² ç·¨é›†ã‚¨ãƒªã‚¢ã“ã“ã¾ã§ â–²â–²â–²
    // =================================================================

    const scheduleNames = { "1": "Aæ—¥ç¨‹ 1æ—¥ç›®", "2": "Aæ—¥ç¨‹ 2æ—¥ç›®", "b": "Bæ—¥ç¨‹", "d": "Dæ—¥ç¨‹" };
    const subjectNames = { "su1": "æ•°å­¦", "ko": "å›½èª", "ei": "è‹±èª", "bu": "ç‰©ç†", "ka": "åŒ–å­¦", "it": "æƒ…å ±" };

    function getSelectionData() {
        return {
            year: document.getElementById('year').value,
            schedule: document.querySelector('input[name="schedule"]:checked').value,
            subject: document.querySelector('input[name="subject"]:checked').value,
            type: document.querySelector('input[name="type"]:checked').value
        };
    }

    function getUrlInfo() {
        const { year, schedule, subject, type } = getSelectionData();
        const key = `${year}_${schedule}_${subject}`;
        
        // AIè§£èª¬ãƒ¢ãƒ¼ãƒ‰
        if (type === 'ai') {
            if (aiExplanationDb[key]) {
                return { url: aiExplanationDb[key], valid: true, label: "AIè§£èª¬ãƒšãƒ¼ã‚¸ã¸ç§»å‹• ğŸ¤–" };
            } else {
                return { url: "", valid: false, label: "ã“ã®å¹´åº¦ãƒ»æ•™ç§‘ã®AIè§£èª¬ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚" };
            }
        }
        
        // è§£èª¬ãƒ¢ãƒ¼ãƒ‰
        if (type === 'com') {
            if (commentaryDb[key]) {
                return { url: commentaryDb[key], valid: true, label: "è§£èª¬PDFã¸ç§»å‹• ğŸ“–" };
            } else {
                return { url: "", valid: false, label: "ã“ã®å¹´åº¦ã®è§£èª¬PDFã¯æœªç™»éŒ²ã§ã™ã€‚" };
            }
        }

        // é€šå¸¸ï¼ˆå•é¡Œãƒ»è§£ç­”ï¼‰ãƒ¢ãƒ¼ãƒ‰
        const schedulePrefix = "ipa"; 
        const fileName = `${year}${schedulePrefix}${schedule}_${subject}${type}.pdf`;
        const url = `https://www.oit.ac.jp/admission/result/pdf/exam/${year}/${fileName}`;

        return { url, valid: true, label: `å…¬å¼ãƒ•ã‚¡ã‚¤ãƒ«: ${fileName}` };
    }

    function updateState() {
        const info = getUrlInfo();
        const data = getSelectionData();
        
        const previewEl = document.getElementById('filePreview');
        const btn = document.getElementById('mainBtn');
        const stockList = document.getElementById('stockList');

        document.body.classList.remove('mode-com', 'mode-ai');
        
        // ã‚¹ãƒãƒ›ç”»é¢ã§ãƒªã‚¹ãƒˆã‚’éš ã™åˆ¶å¾¡ï¼ˆPCã¯CSSã§å¸¸æ™‚è¡¨ç¤ºï¼‰
        if(window.innerWidth < 900) {
            stockList.style.display = 'none'; 
        }

        if (data.type === 'com') {
            document.body.classList.add('mode-com');
        } else if (data.type === 'ai') {
            document.body.classList.add('mode-ai');
        }

        if (info.valid) {
            previewEl.innerHTML = info.label;
            previewEl.classList.remove('error-msg');
            btn.disabled = false;
            
            if (data.type === 'com') {
                btn.textContent = "è§£èª¬PDFã‚’é–‹ã ğŸ“–";
            } else if (data.type === 'ai') {
                btn.textContent = "AIè§£èª¬ã‚’é–‹ã ğŸ¤–";
            } else if (data.type === '_ans') {
                btn.textContent = "è§£ç­”PDFã‚’é–‹ã âœ…";
            } else {
                btn.textContent = "å•é¡ŒPDFã‚’é–‹ã ğŸš€";
            }
        } else {
            previewEl.innerHTML = `<span class="error-msg">âš ï¸ ${info.label}</span>`;
            btn.disabled = true;
            btn.textContent = "ãƒªãƒ³ã‚¯ãªã— ğŸš«";
        }
    }

    function executeAction() {
        const info = getUrlInfo();
        if (info.valid) {
            window.open(info.url, '_blank');
        }
    }

    function toggleStockList() {
        const listDiv = document.getElementById('stockList');
        listDiv.style.display = (listDiv.style.display === 'block') ? 'none' : 'block';
    }

    // ãƒªã‚¹ãƒˆç”Ÿæˆï¼ˆ2ã¤ã®DBã‚’ãƒãƒ¼ã‚¸ã—ã¦è¡¨ç¤ºï¼‰
    function initStockList() {
        const tbody = document.getElementById('stockTableBody');
        tbody.innerHTML = '';
        
        // é€šå¸¸ã®è§£èª¬PDFã‚’è¿½åŠ 
        addToStockList(commentaryDb, 'pdf');
        // AIè§£èª¬ã‚’è¿½åŠ 
        addToStockList(aiExplanationDb, 'ai');
    }

    function addToStockList(db, type) {
        const tbody = document.getElementById('stockTableBody');
        for (const key in db) {
            const parts = key.split('_'); // [year, schedule, subject]
            const row = document.createElement('tr');
            
            const yearCell = document.createElement('td');
            yearCell.textContent = parts[0];
            
            const schedCell = document.createElement('td');
            schedCell.textContent = scheduleNames[parts[1]] || parts[1];
            
            const subjCell = document.createElement('td');
            subjCell.textContent = subjectNames[parts[2]] || parts[2];

            const typeCell = document.createElement('td');
            if(type === 'pdf') {
                typeCell.innerHTML = '<span class="badge pdf">è§£èª¬PDF</span>';
            } else {
                typeCell.innerHTML = '<span class="badge ai">AIè§£èª¬</span>';
            }

            row.appendChild(yearCell);
            row.appendChild(schedCell);
            row.appendChild(subjCell);
            row.appendChild(typeCell);
            tbody.appendChild(row);
        }
    }

    initStockList();
    updateState();
    window.addEventListener('resize', updateState);

</script>

</body>
</html>
